"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[377],{61672:function(e,t,n){n.d(t,{f:function(){return r}});let r=(e,t)=>'\n<svg width="'.concat(e,'" height="').concat(t,'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <linearGradient id="g">\n      <stop stop-color="#eee" offset="20%" />\n      <stop stop-color="#fff" offset="50%" />\n      <stop stop-color="#eee" offset="70%" />\n    </linearGradient>\n  </defs>\n  <rect width="').concat(e,'" height="').concat(t,'" fill="#eee" />\n  <rect id="r" width="').concat(e,'" height="').concat(t,'" fill="url(#g)" />\n  <animate xlink:href="#r" attributeName="x" from="-').concat(e,'" to="').concat(e,'" dur="1s" repeatCount="indefinite"  />\n</svg>')},498:function(e,t,n){n.d(t,{s:function(){return r}});let r=e=>window.btoa(e)},14362:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(57437),a=n(2265),s=n(24033),i=n(2996),o=n(61396),c=n.n(o),l=n(91279),d=n(1102);function u(e){let{params:t}=e,n=(0,s.usePathname)(),[o,u]=(0,a.useState)(0),x=(0,i.C)(e=>e.restaurant.info);return(0,a.useEffect)(()=>{let e=x.find(e=>e.restaurantId===t.restaurantId);if(e){let t=e.cart.reduce((e,t)=>e+t.amount,0);u(t)}},[x]),(0,r.jsx)(c(),{href:"/".concat(t.restaurantId,"/cart"),children:(0,r.jsxs)("li",{className:"w-fit flex gap-2 relative",children:[(0,r.jsx)(l.G,{icon:d.yYj,size:"xl",color:n.includes("cart")?"#671ABF":"#6682A9"}),o>0?(0,r.jsx)("p",{className:"absolute -top-[8px] text-center -right-[10px] pt-[1px] pl-[1px] !w-[20px] !h-[20px] rounded-[25px] text-[12px] bg-[#f64f61] text-white",children:o}):""]})})}},31255:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(57437),a=n(91279),s=n(1102),i=n(2265),o=n(41557);n(33461);var c=n(62896),l=n(55294),d=n(2996),u=n(50622),x=n(35447);let f=[{id:"sum",name:{ru:"Узбекский сум",en:"Uzbek sum",uz:"O'zbek so'mi"},icon:s.owJ,slug:"Сум"}];function p(e){let[t,n]=(0,i.useState)(!1),[p,m]=(0,i.useState)(f[0]),[h,g]=(0,i.useState)({}),j=(0,d.C)(e=>e.states.language),b=async()=>{let e=await (0,u.R)(j);g(e.currency)};(0,i.useEffect)(()=>{b()},[j]);let w=t=>{m(t),n(!1),e.setOpen&&e.setOpen(!1)};return(0,r.jsxs)("div",{children:[e.drawer?(0,r.jsxs)("div",{className:"flex items-center gap-3 border-b px-5 py-[10px] activeLink",onClick:()=>n(!0),children:[(0,r.jsx)(a.G,{icon:s.owJ,size:"xl",color:"#671ABF"}),(0,r.jsx)("p",{className:"font-[500]",children:p.name[j]})]}):(0,r.jsxs)("div",{className:"bg-[#fff]/[0.15] rounded-[10px] flex items-center gap-2 h-[38px] px-[7px] justify-center whitespace-nowrap",onClick:()=>n(!0),children:[(0,r.jsx)(a.G,{icon:s.owJ,size:"xl",color:"#fff",className:"w-7"}),(0,r.jsx)("p",{className:"text-[14px] text-[#fff] font-[500]",children:p.slug})]}),(0,r.jsx)(o.Z,{open:t,onClose:()=>n(!1),direction:"bottom",className:"rounded-tr-3xl rounded-tl-3xl absolute max-sm:!w-[100%] lg:!w-[".concat(e.lg,"] xl:!w-[").concat(e.xl,"] !m-auto"),size:"auto",duration:300,zIndex:999,lockBackgroundScroll:!0,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 mt-4",children:[(0,r.jsx)("span",{className:"text-[18px] font-bold leading-6 truncate w-[90%] text-center",children:h.title}),(0,r.jsx)("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-white",onClick:()=>n(!1),children:(0,r.jsx)(a.G,{icon:s.WA2,color:"#C2A3E5",className:"text-[30px] w-7"})})]}),(0,r.jsx)("hr",{className:"mt-4 border-[#74859E]"}),(0,r.jsx)("div",{children:f.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-4 border-b px-6 border-[#D0D7E1] justify-between activeLink ".concat(p.id===e.id?"text-[#671ABF]":"text-[#74859E]"),onClick:()=>w(e),children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 py-4",children:[(0,r.jsx)(a.G,{icon:e.icon,size:"xl",className:"w-7",color:"#671ABF"}),(0,r.jsx)("span",{className:"text-[16px] ".concat(p.id===e.id?"font-bold":"font-normal"),children:e.name[j]})]}),(0,r.jsx)(a.G,{icon:p.id===e.id?l.W3K:c.diR,className:"text-[20px]"})]},e.id))}),(0,r.jsx)("div",{className:"m-10 mx-20",onClick:()=>n(!1),children:(0,r.jsx)(x.Z,{btnType:"drawerType",children:"Закрыть"})})]})})]})}},97268:function(e,t,n){n.d(t,{Z:function(){return u}});var r=n(57437),a=n(2265),s=n(18822),i=n(2996),o=n(24033),c=n(10846),l=n(91279),d=n(46800);function u(e){let t=(0,i.T)(),n=(0,o.useParams)(),u=(0,i.C)(e=>e.restaurant.info),[x,f]=(0,a.useState)(0),[p,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{let t=u.find(e=>e.restaurantId===n.restaurantId);if(t){let n=t.cart.find(t=>t.id===e.product.id);n?(m(!0),f(n.amount)):m(!1)}g(!1)},[u]),(0,r.jsx)("div",{children:p?(0,r.jsxs)("div",{className:"flex justify-between items-center text-xl rounded-3xl ".concat("single"===e.cardDisplay?"m-0":"mt-1"),children:[(0,r.jsx)("div",{style:{display:"inline-flex",borderRadius:"50px",overflow:"hidden",WebkitTransform:"translate3d(0,0,0)"},children:(0,r.jsx)(c.Z,{during:1200,children:(0,r.jsx)("button",{type:"button",className:"text-[#f64f61] border border-[#f64f61] rounded-[50px] bg-[#FFE2E5] cursor-pointer focus:outline-0 h-[38px] w-[38px]",onClick:r=>{r.preventDefault();let a={product:e.product,restaurantId:n.restaurantId};t((0,s.Mj)(a))},disabled:1===x&&e.cart,children:(0,r.jsx)(l.G,{icon:d.Kl4})})})}),(0,r.jsx)("p",{className:"text-[#1BC5BD] text-lg font-[500] w-6 text-center select-none",children:x}),(0,r.jsx)("div",{style:{display:"inline-flex",borderRadius:"50px",overflow:"hidden",WebkitTransform:"translate3d(0,0,0)"},children:(0,r.jsx)(c.Z,{during:1200,children:(0,r.jsx)("button",{className:"text-[#1BC5BD] border border-[#1BC5BD] rounded-[50px] bg-[#e8faf9] cursor-pointer focus:outline-0 h-[38px] w-[38px]",onClick:r=>{r.preventDefault();let a={product:e.product,restaurantId:n.restaurantId};t((0,s.nP)(a))},children:(0,r.jsx)(l.G,{icon:d.r8p})})})})]}):(0,r.jsx)("div",{className:"mt-1 cursor-pointer",children:h?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"h-[38px] w-full rounded-[50px] line-clamp-2 ".concat("relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_1s_infinite] before:bg-gradient-to-r before:from-transparent before:via-[#eee] before:to-transparent")})}):(0,r.jsxs)("button",{className:"text-center p-[6px] bg-[#e8faf9] border border-[#1BC5BD] rounded-[50px] text-[#1BC5BD] font-[500] tracking-[1px] hover:bg-opacity-[0.5] w-full",onClick:r=>{r.stopPropagation(),r.preventDefault();let a={product:e.product,restaurantId:n.restaurantId};t((0,s.Xq)(a))},children:[(0,r.jsx)(l.G,{icon:d.r8p})," Добавить"]})})})}},56734:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var r=n(57437),a=n(14362),s=n(24033),i=n(91279),o=n(1102),c=n(61396),l=n.n(c),d=n(53027),u=n(41557),x=n(2265),f=n(24776),p=n(31255),m=n(25179),h=n(47713),g=n(2996),j=n(31373),b=n(65518),w=n(94544);function v(){let[e,t]=(0,x.useState)(!1),n=(0,h.getCookie)("jwt"),a=(0,g.T)(),s=(0,g.C)(e=>e.profile.account);return(0,x.useEffect)(()=>{n&&j.Z.get("/auth/profile").then(e=>{a((0,b.qU)(e.data.data))}).catch(e=>{console.log(e)})},[n]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{onClick:()=>t(!0),children:n&&Object.keys(s).length>0?(0,r.jsx)(i.G,{icon:o.ILF,size:"xl",color:"#671ABF"}):(0,r.jsx)(i.G,{icon:o.ILF,size:"xl",color:"#6682A9"})}),(0,r.jsx)(u.Z,{open:e,onClose:()=>t(!1),direction:"bottom",className:"rounded-tr-3xl rounded-tl-3xl absolute max-sm:!w-[100%] lg:!w-[40%] xl:!w-[25%] !m-auto",size:"auto",duration:300,zIndex:999,lockBackgroundScroll:!0,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 sm:px-6 mt-4",children:[(0,r.jsx)("span",{className:"text-[18px] font-bold leading-6 truncate w-[90%] text-center",children:"Пользователь"}),(0,r.jsx)("button",{type:"button",className:"rounded-md text-gray-400 hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-white",onClick:()=>t(!1),children:(0,r.jsx)(i.G,{icon:o.WA2,size:"2x",color:"#C2A3E5"})})]}),(0,r.jsx)("hr",{className:"mt-4 border-[#74859E]"}),(0,r.jsxs)("div",{className:"text-[16px]",children:[n&&Object.keys(s).length>0?(0,r.jsxs)("div",{className:"px-5 py-[10px] border-b activeLink flex items-center gap-3 h-[45px]",children:[(0,r.jsx)(i.G,{icon:o.ILF,size:"xl",color:"#671ABF",className:"w-7"}),(0,r.jsxs)("div",{className:"text-[14px]",children:[(0,r.jsx)("p",{className:"font-bold",children:s.user.name}),(0,r.jsx)("p",{className:"text-gray-500",children:(0,w.H)(s.user.mobile)})]})]}):"",(0,r.jsx)(f.default,{drawer:!0}),(0,r.jsx)(p.Z,{drawer:!0})]}),(0,r.jsx)("div",{className:"text-center py-4 mb-8",children:(0,r.jsx)(m.Z,{profile:s,handleClose:()=>{t(!1)}})})]})})]})}function N(e){let{params:t,lang:n,restaurant:c}=e,u=(0,s.usePathname)();return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"flex items-center fixed bottom-0 left-0 right-0 bg-[#fff] h-[50px] z-[5] bottomTools border-[#eee] max-sm:!w-[100%] lg:!w-[40%] xl:!w-[25%] !m-auto",children:(0,r.jsxs)("div",{className:"flex justify-between w-full items-center text-[18px] cursor-pointer",children:[(0,r.jsx)(l(),{href:"/".concat(t.restaurantId),children:(0,r.jsx)(i.G,{icon:o.J9Y,size:"xl",color:11===u.length?"#671ABF":"#6682A9"})}),(0,r.jsx)(l(),{href:"/".concat(t.restaurantId,"/menu"),className:"mt-1",children:c.data.occupationType&&"100"!==c.data.occupationType.id?(0,r.jsx)(i.G,{icon:o.dRe,size:"xl",color:"#6682A9"}):(0,r.jsx)(i.G,{icon:o.emM,size:"xl",color:"#6682A9"})}),(0,r.jsx)(a.Z,{params:t}),(0,r.jsx)(d.Z,{data:c.data}),(0,r.jsx)(v,{})]})}),(0,r.jsx)("div",{className:"bg-[#fff] h-[34px] fixed bottom-0 right-0 left-0 w-full z-[4] max-sm:!w-[100%] lg:!w-[40%] xl:!w-[25%] !m-auto"})]})}},65518:function(e,t,n){n.d(t,{qU:function(){return s}});var r=n(50663);let a=(0,r.oM)({name:"profile",initialState:{account:{},zonId:"",isLoading:!0},reducers:{addProfile:(e,t)=>({...e,account:t.payload}),setZonId:(e,t)=>({...e,zonId:t.payload}),setIsLoading:(e,t)=>({...e,isLoading:t.payload})}}),{addProfile:s,setZonId:i,setIsLoading:o}=a.actions;t.ZP=a},18822:function(e,t,n){n.d(t,{Xq:function(){return o},LL:function(){return x},Mj:function(){return d},ZP:function(){return f},nP:function(){return l},kh:function(){return u},YZ:function(){return c}});var r=n(50663);let a=e=>{localStorage.setItem("foodeeCart",JSON.stringify(e))},s={info:(()=>{let e=[];e=localStorage.getItem("foodeeCart");try{e=e&&"null"!==e&&e?JSON.parse(e):[]}catch(t){e=[]}return e})()},i=(0,r.oM)({name:"restaurant",initialState:s,reducers:{addToCart(e,t){let n=t.payload,r=e.info.find(e=>e.restaurantId.toString()===n.restaurantId.toString()),s=r.cart.some(e=>e.id===n.product.id);s?r.cart.map(e=>e.id===n.product.id?{...e,amount:++e.amount}:e):r.cart=[...r.cart,Object.assign({},n.product,{amount:1})],a(e.info)},setRestaurant(e,t){let n=t.payload,r=e.info.some(e=>e.restaurantId===n.restaurantId),s={restaurantId:n.restaurantId,tableNumber:n.t,premise:n.p,settings:n.settings,cart:[],servicePercent:n.servicePercent},i=e.info.find(e=>e.restaurantId.toString()===n.restaurantId.toString());if(i&&(n.t&&(i.tableNumber=n.t,a(e.info)),n.settings&&(i.settings=n.settings,a(e.info)),n.p&&(i.premise=n.p,a(e.info)),(n.servicePercent||0===n.servicePercent)&&(i.servicePercent=n.servicePercent,a(e.info))),!r)return a([...e.info,s]),{...e,info:[...e.info,s]}},increment(e,t){let n=t.payload;e.info.find(e=>e.restaurantId.toString()===n.restaurantId.toString()).cart.map(e=>e.id===n.product.id?{...e,amount:++e.amount}:e),a(e.info)},decrement(e,t){let n=t.payload,r=e.info.find(e=>e.restaurantId.toString()===n.restaurantId.toString()),s=r.cart.find(e=>e.id===n.product.id);s.amount>1?r.cart.map(e=>e.id===n.product.id?{...e,amount:--e.amount}:e):r.cart=r.cart.filter(e=>e.id!==s.id),a(e.info)},removeProduct(e,t){let n=t.payload,r=e.info.find(e=>e.restaurantId.toString()===n.restaurantId.toString()),s=r.cart.find(e=>e.id===n.product.id);r.cart=r.cart.filter(e=>e.id!==s.id),a(e.info)},clearCart(e,t){let n=t.payload;e.info.find(e=>e.restaurantId.toString()===n.restaurantId.toString()).cart=[],a(e.info)}}}),{addToCart:o,setRestaurant:c,increment:l,decrement:d,removeProduct:u,clearCart:x}=i.actions;var f=i}}]);